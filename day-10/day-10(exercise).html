<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Day 10 Challenge</title>
</head>

<body>
    <script>

        // LEVEL 01 - Day 10

        const a = [4, 5, 8, 9];
        const b = [3, 4, 5, 7];
        const countries2 = ['Finland', 'Sweden', 'Norway'];

        // 1

        let emptySet = new Set();
        console.log(emptySet); // Set(0)

        // 2
        let set = new Set();
        for (let i = 0; i <= 10; i++) {
            set.add(i);
        }
        console.log(set);

        // 3

        set.delete(0);
        console.log(set.has(0)); // false

        // 4

        set.clear();
        console.log(set); // Set(0)

        // 5

        let companies = ['Facebook', 'Amazon', 'Apple', 'Samsung', 'Tesla'];

        let setOfCompanies = new Set(companies);
        console.log(setOfCompanies); // Set(5)

        // 6

        let mapOfCountries = new Map();

        for (const country of countries2) {
            mapOfCountries.set(country, country.length);
        }

        console.log(mapOfCountries);

        // LEVEL 02 - Day 10

        // 1

        let A = new Set(a);
        let B = new Set(b);

        let c = [...a, ...b];

        let C = new Set(c);

        console.log(C);

        // 2

        let d = a.filter(n => B.has(n));

        let D = new Set(d);

        console.log(D);

        // 3

        let e = a.filter(n => !B.has(n));

        let E = new Set(e);

        console.log(E);

        // LEVEL 03 - Day 10

        const countries = [

            {
                name: 'Afghanistan',
                capital: 'Kabul',
                languages: ['Pashto', 'Uzbek', 'Turkmen'],
                population: 27657145,
                flag: 'https://restcountries.eu/data/afg.svg',
                currency: 'Afghan afghani'
            },
            {
                name: 'Åland Islands',
                capital: 'Mariehamn',
                languages: ['Swedish'],
                population: 28875,
                flag: 'https://restcountries.eu/data/ala.svg',
                currency: 'Euro'
            },
            {
                name: 'Albania',
                capital: 'Tirana',
                languages: ['Albanian'],
                population: 2886026,
                flag: 'https://restcountries.eu/data/alb.svg',
                currency: 'Albanian lek'
            },
            {
                name: 'Algeria',
                capital: 'Algiers',
                languages: ['Arabic'],
                population: 40400000,
                flag: 'https://restcountries.eu/data/dza.svg',
                currency: 'Algerian dinar'
            },
            {
                name: 'American Samoa',
                capital: 'Pago Pago',
                languages: ['English', 'Samoan'],
                population: 57100,
                flag: 'https://restcountries.eu/data/asm.svg',
                currency: 'United State Dollar'
            },
            {
                name: 'Andorra',
                capital: 'Andorra la Vella',
                languages: ['Catalan'],
                population: 78014,
                flag: 'https://restcountries.eu/data/and.svg',
                currency: 'Euro'
            },
            {
                name: 'Angola',
                capital: 'Luanda',
                languages: ['Portuguese'],
                population: 25868000,
                flag: 'https://restcountries.eu/data/ago.svg',
                currency: 'Angolan kwanza'
            },
            {
                name: 'Anguilla',
                capital: 'The Valley',
                languages: ['English'],
                population: 13452,
                flag: 'https://restcountries.eu/data/aia.svg',
                currency: 'East Caribbean dollar'
            },
            {
                name: 'Antarctica',
                capital: '',
                languages: ['English', 'Russian'],
                population: 1000,
                flag: 'https://restcountries.eu/data/ata.svg',
                currency: 'Australian dollar'
            },
            {
                name: 'Antigua and Barbuda',
                capital: "Saint John's",
                languages: ['English'],
                population: 86295,
                flag: 'https://restcountries.eu/data/atg.svg',
                currency: 'East Caribbean dollar'
            },
            {
                name: 'Argentina',
                capital: 'Buenos Aires',
                languages: ['Spanish', 'Guaraní'],
                population: 43590400,
                flag: 'https://restcountries.eu/data/arg.svg',
                currency: 'Argentine peso'
            },
            {
                name: 'Armenia',
                capital: 'Yerevan',
                languages: ['Armenian', 'Russian'],
                population: 2994400,
                flag: 'https://restcountries.eu/data/arm.svg',
                currency: 'Armenian dram'
            },
            {
                name: 'Aruba',
                capital: 'Oranjestad',
                languages: ['Dutch', '(Eastern) Punjabi'],
                population: 107394,
                flag: 'https://restcountries.eu/data/abw.svg',
                currency: 'Aruban florin'
            },
            {
                name: 'Australia',
                capital: 'Canberra',
                languages: ['English'],
                population: 24117360,
                flag: 'https://restcountries.eu/data/aus.svg',
                currency: 'Australian dollar'
            },
            {
                name: 'Austria',
                capital: 'Vienna',
                languages: ['German'],
                population: 8725931,
                flag: 'https://restcountries.eu/data/aut.svg',
                currency: 'Euro'
            },
            {
                name: 'Azerbaijan',
                capital: 'Baku',
                languages: ['Azerbaijani'],
                population: 9730500,
                flag: 'https://restcountries.eu/data/aze.svg',
                currency: 'Azerbaijani manat'
            },
            {
                name: 'Bahamas',
                capital: 'Nassau',
                languages: ['English'],
                population: 378040,
                flag: 'https://restcountries.eu/data/bhs.svg',
                currency: 'Bahamian dollar'
            },
            {
                name: 'Bahrain',
                capital: 'Manama',
                languages: ['Arabic'],
                population: 1404900,
                flag: 'https://restcountries.eu/data/bhr.svg',
                currency: 'Bahraini dinar'
            },
            {
                name: 'Bangladesh',
                capital: 'Dhaka',
                languages: ['Bengali'],
                population: 161006790,
                flag: 'https://restcountries.eu/data/bgd.svg',
                currency: 'Bangladeshi taka'
            },
            {
                name: 'Barbados',
                capital: 'Bridgetown',
                languages: ['English'],
                population: 285000,
                flag: 'https://restcountries.eu/data/brb.svg',
                currency: 'Barbadian dollar'
            },
            {
                name: 'Belarus',
                capital: 'Minsk',
                languages: ['Belarusian', 'Russian'],
                population: 9498700,
                flag: 'https://restcountries.eu/data/blr.svg',
                currency: 'New Belarusian ruble'
            },
            {
                name: 'Belgium',
                capital: 'Brussels',
                languages: ['Dutch', 'French', 'German'],
                population: 11319511,
                flag: 'https://restcountries.eu/data/bel.svg',
                currency: 'Euro'
            },
            {
                name: 'Belize',
                capital: 'Belmopan',
                languages: ['English', 'Spanish'],
                population: 370300,
                flag: 'https://restcountries.eu/data/blz.svg',
                currency: 'Belize dollar'
            },
            {
                name: 'Benin',
                capital: 'Porto-Novo',
                languages: ['French'],
                population: 10653654,
                flag: 'https://restcountries.eu/data/ben.svg',
                currency: 'West African CFA franc'
            },
            {
                name: 'Bermuda',
                capital: 'Hamilton',
                languages: ['English'],
                population: 61954,
                flag: 'https://restcountries.eu/data/bmu.svg',
                currency: 'Bermudian dollar'
            },
            {
                name: 'Bhutan',
                capital: 'Thimphu',
                languages: ['Dzongkha'],
                population: 775620,
                flag: 'https://restcountries.eu/data/btn.svg',
                currency: 'Bhutanese ngultrum'
            },
            {
                name: 'Bolivia (Plurinational State of)',
                capital: 'Sucre',
                languages: ['Spanish', 'Aymara', 'Quechua'],
                population: 10985059,
                flag: 'https://restcountries.eu/data/bol.svg',
                currency: 'Bolivian boliviano'
            },
            {
                name: 'Bonaire, Sint Eustatius and Saba',
                capital: 'Kralendijk',
                languages: ['Dutch'],
                population: 17408,
                flag: 'https://restcountries.eu/data/bes.svg',
                currency: 'United States dollar'
            },
            {
                name: 'Bosnia and Herzegovina',
                capital: 'Sarajevo',
                languages: ['Bosnian', 'Croatian', 'Serbian'],
                population: 3531159,
                flag: 'https://restcountries.eu/data/bih.svg',
                currency: 'Bosnia and Herzegovina convertible mark'
            },
            {
                name: 'Botswana',
                capital: 'Gaborone',
                languages: ['English', 'Tswana'],
                population: 2141206,
                flag: 'https://restcountries.eu/data/bwa.svg',
                currency: 'Botswana pula'
            },
            {
                name: 'Bouvet Island',
                capital: '',
                languages: ['Norwegian', 'Norwegian Bokmål', 'Norwegian Nynorsk'],
                population: 0,
                flag: 'https://restcountries.eu/data/bvt.svg',
                currency: 'Norwegian krone'
            },
            {
                name: 'Brazil',
                capital: 'Brasília',
                languages: ['Portuguese'],
                population: 206135893,
                flag: 'https://restcountries.eu/data/bra.svg',
                currency: 'Brazilian real'
            },
            {
                name: 'British Indian Ocean Territory',
                capital: 'Diego Garcia',
                languages: ['English'],
                population: 3000,
                flag: 'https://restcountries.eu/data/iot.svg',
                currency: 'United States dollar'
            },
            {
                name: 'United States Minor Outlying Islands',
                capital: '',
                languages: ['English'],
                population: 300,
                flag: 'https://restcountries.eu/data/umi.svg',
                currency: 'United States Dollar'
            },
            {
                name: 'Virgin Islands (British)',
                capital: 'Road Town',
                languages: ['English'],
                population: 28514,
                flag: 'https://restcountries.eu/data/vgb.svg',
                currency: '[D]'
            }
        ];

        // 1

        let arr = [];
        countries.map(x => x.languages.forEach(x => arr.push(x)));

        let noOfLanguages = new Set(arr);
        console.log(noOfLanguages.size); // 31

        // Using Reduce
        let count = (new Set(countries.reduce((lang, obj) => {
            lang = lang.concat(obj.languages);
            return lang;
        }, []))).size;
        console.log(count);

        // 2

        count = Object.entries(countries.reduce((lang, obj) => {
            obj.languages.forEach(x => lang.push(x));
            return lang;
        }, []).reduce((count, curr) => {
            count[curr] = (count[curr] || 0) + 1;
            return count;
        }, {})).sort((a, b) => b[1] - a[1]);     

        let mostSpoken = new Set();
        let mostSpokenLanguages = number => {
            for (let i = 0; i < number; i++) {
                mostSpoken.add(count[i]);
            }
            return mostSpoken;
        }

        console.log(mostSpokenLanguages(10));
        

    </script>
</body>

</html>